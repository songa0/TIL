## 14. 실행 컨텍스트

### 14.1 실행 컨텍스트란?  
  실행 컨텍스트 : 실행할 코드에 제공할 환경 정보들을 모아놓은 객체  
  
  동일한 환경에 있는 코드들을 실행할 때 필요한 환경 정보들을 모아 컨텍스트를 구성하고,  
  이를 콜 스택에 쌓아놓았다가 가장 위에있는 컨텍스트와 관련있는 코드들을 실행하는 식으로 전체 코드의 환경과 순서를 보장한다.  
  (여기서 동일한 환경에는 하나의 실행 컨텍스트를 구성할 수 있는 방법으로 전역공간, eval 함수, 함수 등이 있다.)  
  
  콜 스택에 실행 컨텍스트가 어떤 순서로 쌓이고, 어떤 순서로 코드 실행에 관여하는지 다음 예제를 통해 살펴보자.  
  
  ```javascript
    var a = 1;
    function outer(){
      function inner(){
        console.log(a);
        var a = 3;
      }
      inner();
      console.log(a);
   }
   outer();
   console.log(a);
  ```
  1. 자바스크립트 코드를 실행하는 순간 전역 컨텍스트가 콜 스택에 담긴다.  
  2. outer 함수를 호출하면 자바스크립트 엔진은 outer에 대한 환경 정보를 수집해서 outer 실행 컨텍스트를 생성한 후 콜 스택에 담는다.   
  (콜 스택의 맨 위에 outer 실행 컨텍스트가 놓인 상태이므로 전역 컨텍스트와 관련된 코드 실행을 일시정지한 후 outer 실행 컨텍스트와 관련된 코드를 실행함.)  
  3. outer 함수 안에서 호출한 inner 함수의 실행 컨텍스트가 콜 스택의 가장 위에 담긴다.  
  (콜 스택의 맨 위에 inner 실행 컨텍스트가 놓인 상태이므로 outer 컨텍스트와 관련된 코드 실행을 일시정지한 후 inner 실행 컨텍스트와 관련된 코드를 실행함.)  
  4. inner 함수 내부에서 a 변수에 3을 할당하고 나면 inner 함수의 실행이 종료되면서 inner 실행 컨텍스트가 콜 스택에서 제거된다.  
  5. 그러면 아래에 있던 중단했던 outer 컨텍스트 지점부터 다시 실행하여 변수 a 값을 출력한다.
     outer 함수의 실행이 종료되어 outer 실행 컨텍스트가 콜 스택에서 제거된다.  
  6. 중단했던 전역 컨텍스트 지점부터 다시 실행하여 변수 a 값을 출력한다.  
     전역 공간에 실행할 코드가 남아있지 않아 전역 컨텍스트도 제거되고, 콜 스택에는 아무것도 남지 않은 상태로 종료된다.  
     
     
